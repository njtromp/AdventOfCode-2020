package nl.njtromp.adventofcode_2020;

public class Puzzle03 {
    static long solvePart1(String[] map) {
        return countTrees(map, 3, 1);
    }

    static long solvePart2(String[] map, int[][] slopes) {
        long totalTrees = 1;
        for (int[] slope : slopes) {
            totalTrees *= countTrees(map, slope[0], slope[1]);
        }
        return totalTrees;
    }

    static long countTrees(String[] map, int dX, int dY) {
        final int numberOfColumns = map[0].length();
        int x = 0;
        long trees = 0;
        for (int y = 0; y < map.length; y += dY) {
            trees += countTree(map, x, y);
            x = (x + dX) % numberOfColumns;
        }
        return trees;
    }

    private static int countTree(String[] map, int x, int y) {
        return map[y].charAt(x) == '#' ? 1 : 0;
    }

    public static void main(String[] args) {
        System.out.printf("Answer part 1: %d\n", solvePart1(map));
        System.out.printf("Answer part 2: %s\n", solvePart2(map, slopes));
    }

    static int[][] slopes = {
            {1, 1},
            {3, 1},
            {5, 1},
            {7, 1},
            {1, 2}
    };

    static String[] map = {
            "....#...#####..##.#..##..#....#",
            "..##.#.#.........#.#......##...",
            "#.#.#.##.##...#.......#...#..#.",
            "..##.............#.#.##.....#..",
            "##......#.............#....#...",
            ".....##..#.....##.#.......##..#",
            ".##.....#........##...##.#....#",
            ".##......#.#......#.....#..##.#",
            "##....#..#...#...#...##.#...##.",
            "##........##.#...##......#.#.#.",
            "..#.#........#...##.....#.....#",
            "..#.......####.#....#..#####...",
            ".##..#..#..##.#.....###.#..#...",
            "......###..##.....#.#.#..###.#.",
            "..#.#...#..##.....#....#.#.....",
            ".....#.#...#.###.#..#..........",
            "##.....#...#.#....#..#.#.......",
            "..#...#...#.........##......#..",
            "......#.#...#...#..#...##.#...#",
            "....#.................##.##....",
            "...#......#.............#....##",
            "##..#..#..........#...##.#.#...",
            "....#...##....#..#.#...........",
            "##.#.#.#...#....#........#..#.#",
            "...###..........#...#...#..##.#",
            "..##.......###.#......##.##....",
            "...........#.#....#.....#.#...#",
            "..#......##.#...##.#.#......#.#",
            "..........#.#....#.#..#....#...",
            "##..##...##.......#.#....#.#.##",
            ".##..#.#..#...........#.#...#.#",
            "#......##......#....####.#....#",
            "..###......##...#...#.#.......#",
            ".#.##.##....##..#..##...#......",
            ".#....#..#........#..#.##.#.#..",
            "..#.........#.#.###....###.#...",
            "..#..#.#.#..#..#.##.##...####..",
            "#..#..#......#..#.#....#.#.#.##",
            "..#.........#...#..#.#.#..#...#",
            "#..#......###.....##....##.....",
            "#..#.....#.#.#.##.....##...#.#.",
            "##..#.#...#.........#.#........",
            "#....#.......#.....#..#..#.#...",
            "...###.##.###.###.#####..#...#.",
            ".....#..#.#..##...............#",
            "..#.....###.###.#.....#.#....##",
            "###.#.........#..#.#.#..#.#..#.",
            ".##.........#..#..##....#.#...#",
            ".#...#........#...#.....#....#.",
            "####..........###....#.#.#....#",
            "....##..###....#....#.#...#....",
            "..............##......##..#.###",
            ".#...........###.#.#....#......",
            "###.#..#..#...#.........##.....",
            "..#.....##...#.#.....##...#.##.",
            ".###.#........#..#.#...#.#..##.",
            ".......##....##.........##.#..#",
            "#....#...#...##...#.#..#..#..##",
            "...#...##..#...#...#.#....#.#.#",
            "#.#......#.#...##......#.#...##",
            ".#.###..#.###.#.....#.##.##.#.#",
            "#...#............#...#.##..##..",
            "....#..###.......#.....##....#.",
            ".#####..#.....#.....#...#.....#",
            "..##..#..###.......##.#........",
            ".#...##.##.....#.##...##...#..#",
            "......###...#....#....#........",
            "....#...#.#....#...#.#.#......#",
            "....#..##...##.#..#....###.....",
            "...#...#..#.#...#....#.#..#####",
            "####....#.....#.........#.#....",
            "...###.#.#..#.#..##............",
            ".##..#####..#...#..#..#.......#",
            ".###......#.#.#..#....#.....#..",
            "#....##.##..#.#...............#",
            "...#.#..#........#......#....#.",
            "#.....#....###....#..#.#.#.....",
            ".#..#....#...#.#.....##....#...",
            "..#.##.#.##.#..#.##.#.....#.#..",
            ".......#.......###..###..#...#.",
            ".#.......#..#........#.#.......",
            ".#.#...#.....#.##..##.....#....",
            "#.......##....#......#.....##..",
            ".#.....#...##...#..##.....#....",
            "....#..#.#.......#.#.#.........",
            "..#....#....##.##..#..##.##.#..",
            ".#...#....##...#........#....#.",
            "#.#......#...#....#...........#",
            ".#....#..#..###.#.....#..#.....",
            "..#..................#.....#...",
            "..#...###..#..####.#..#.#.#.#..",
            "...#........##...##..##..#....#",
            "...#.....#........##..#.....#.#",
            "#....#.....##.##......#...##...",
            "...#####....#..##..##...#.#....",
            "###.........#.#..#..#..##.#...#",
            "##...#..##...#.##.#........#...",
            ".#....#.#...#..#...#..#.#......",
            ".#......##.#...#...#..#....#...",
            "#..#.#.#......##.##.####..#....",
            ".#...#.#.##...##.#...#...#.....",
            "####.#.........#...##..##....##",
            ".....###........###.##...#.#...",
            ".##.....#.....#....##.....##...",
            ".#.#...#####....##...##.....#..",
            "....###..........#......##..#.#",
            "..#.....#....#..#...#.....##..#",
            "...##.##.#.######....#.#....##.",
            "...#.#.#...#..#....##.........#",
            ".#.#...##...#....#.#....##.....",
            "...#..#.....#.....#.##.....#...",
            ".#.#.#.....#.##.#....#.#....##.",
            "#...#......###...#..###...#....",
            "...##.#.#..#........##.......#.",
            ".####.####......#........#.....",
            "....#..#####....#......####....",
            "#...##.#..#..#####.#...#......#",
            "#.#....#..#.........###........",
            ".##.........#....#......#.#....",
            "...###.........####.#........##",
            "..#..#........#.#..##......#..#",
            ".##..#....#...##.####.#...#....",
            "......#.......#..#..#.#.##.#...",
            ".###....#.#...#.#.......##..#.#",
            "#...#....#............#####....",
            "...#.##......#####..#........#.",
            "..#...##.....#...#..#.#........",
            "...#.#...#...##...#..#....#....",
            "..#..##.....#....#.#.###.......",
            ".......##..#...#.............##",
            ".....#.....#..##.##.....#......",
            ".....##...#......#..##....#.###",
            ".#...#.#.#.#.##.....##..###..#.",
            "....##..........#.....###......",
            "....#...#.#.#..#.......#....#..",
            "..###...#...........##..###....",
            "...#.##.......#....#....#.#....",
            "##...#..##..#.##..........##..#",
            ".##.....#..#......##..####.#.##",
            "....##..#.#.###......#..#...#..",
            "####..#.#....#...#....###.#.#..",
            "###......#...##.##..#.##..#..#.",
            "..#.#..#.#.#.....#...#..#.####.",
            ".###.#...##...##....##......#.#",
            "..#............#.##..#....#..#.",
            "###.......#......###..#........",
            "....##......###.....#.#..###...",
            "..#...##...#......#..#.........",
            "#..####.#....#.....###....#.#..",
            ".#.#.#.......##....###.........",
            ".......#.##.#####....#.#...####",
            ".#...#....#....#.###..#.....#..",
            ".###.#.#.###.###.#..####.##.#..",
            "....#.........#.#.......##.....",
            "#..#..#.#...........#.#.##..#.#",
            ".#.....#..#...#.....#.##......#",
            "..###.#............#.....####..",
            "#.....##..##...#....####....#..",
            "...#.....#..................#..",
            "....#.###.#..#..#..##..#..##...",
            "...##.#........#......#...##...",
            "#................##....#...#...",
            "..##......##.#.##..#....#.....#",
            ".#..#.....#..........##.#.#....",
            ".....#...####....#..#......#...",
            "..#......###.#.#.#.#.......#..#",
            ".##......#.......#....###.#....",
            "#..#.#.#..#...#.#.##..##..#....",
            "....#...##..#.#......#.##...#..",
            "...###...#.##..#...#....#......",
            "##......#.#...#.#.#.........#..",
            "..#..........#...###.#.##....#.",
            "...##.....#.....#...###..#.....",
            "..####.#.....#.#.....#..#.#....",
            ".#.....##...##.##.#.....#.####.",
            ".......#.....#...##..........#.",
            ".#...#.#....#####....###.#..#.#",
            ".##.##....##...##.#.....#......",
            "#......#.##..#..##.#.#.......#.",
            ".#..#....###..#........##...#..",
            "..#......##.......###..##...#..",
            ".#..........#.#.......##.....#.",
            "....##.....##.#.#.##........##.",
            "..#.#..###..#..##...#.##...#...",
            ".......#.....#..#...#...#.....#",
            "##.#...#.#.#.##........#......#",
            "..###.....##..#....#.......##..",
            "#####..####...#.#..##.#...#..#.",
            "#...####....#........#....#....",
            ".#.#.#..#...##....#.......#.#..",
            "...#....##..##..#..#..#####.###",
            "...#......#.#..#......#...####.",
            ".##.....##.##.#.####.#..##...#.",
            "....#..#..##..##....#....#...##",
            "##.###........#...##....#.....#",
            "..#.#.#.......#....#..#....#...",
            "......##.....##....#...#.....#.",
            "#.#..#.#.......#....#.#.#......",
            ".....###..#...#.....#..##..#...",
            "......###.....#.#.#...#...##..#",
            ".#..#.#....##...#...#........#.",
            "#..###.#...####.#...#..........",
            ".#.##.#..#..##..#..###..##...#.",
            ".......#.#..........#.........#",
            "#......###..##..#....###.......",
            "..#............#.#........#...#",
            "..##.#.............#......#..##",
            ".#....#..#.#..#....###..#...#..",
            "....##....#..##...###....#....#",
            ".#....###.............#........",
            "#..#...#..#....#.##.#.....##...",
            "...........#.....#....#....#...",
            ".##.##.#...#....##......##..##.",
            "......#.#.##.#..##........#...#",
            "....##...##...#...#...#.#......",
            ".#...#....#...#......#.#...#..#",
            "........##.....#.#..#...##..##.",
            "##...#.....#.....####...#..#...",
            ".#.#..##.##......#...#.#...#...",
            "##...##.#......#....#.######.#.",
            "##.....####.###......#.##.#....",
            ".#.##....##........#...#..####.",
            ".......#..#....##...#.#...#..#.",
            "...##..........#..#........#..#",
            ".##.....#...#...#.##.###.......",
            ".##....#...#.#..#.....#...#....",
            "..#...#.....#.####.#.........#.",
            "#...#.##...#.#..#.#..#.###.#..#",
            ".##..#.#.##.........####....###",
            ".#..##........#..#.......#.....",
            "......#.#####.#.........#.#...#",
            "......#....#.#####...........#.",
            "..##....##..#.#..#....#......##",
            "#.#......#.##.#.##....#....#.#.",
            "..#..##.#...#.......##.........",
            ".....##.#...#..........#.......",
            "...#........#..#...#.....##.###",
            "....##.........#...#.#.....#...",
            ".......#.#....#...#.......#...#",
            ".#..#...##....#..#...........#.",
            ".#....##.##.#..#..####.#.#.....",
            ".##........#.....#..#......##..",
            ".#..##......#......#..##..#....",
            "###.....##.......#..##.#.......",
            ".....##......#.#...##...##.....",
            ".##....##..#..#####...#...#.##.",
            "##...##.#....##.#.#.#....##....",
            ".#.....#...#......#......##....",
            "##.#............#...#....#.....",
            "#..#.....#.....##.##.##..#..##.",
            "......#..............#..#...#.#",
            "....#.#....##......#..#...#....",
            ".#...#..#...#......#..##....#.#",
            ".....#......#..##...#.#....#...",
            "#...............#.##..#......#.",
            ".....#..##.#..#.#...###.....#..",
            "...#..#..#...#....#..#..##.#...",
            ".#...#...#..#......##...#......",
            "....###............#.#.#....#..",
            "#.#...#..#..#.#....#........#..",
            "....#.#.#..#..#....#..#...##.#.",
            ".#....#.#...#....#......#.#...#",
            "##..#.#.#..#.....#...###....#.#",
            ".##.....#.#...#..........#..#.#",
            "#....#......#....#.#.#...#.....",
            "#.#.....#.###.......#..#..#.#..",
            "#.....##..#.###...#...##...#.##",
            ".#.##....#.#.....##......###...",
            ".#.......##................#...",
            ".........#........####......#..",
            "...##.###..#.....#.#.....##.#..",
            "..#....#.#.#.##..........#.....",
            "#..##.....#.............##.....",
            ".##...#..#.......#.......#..#..",
            "...#.................#......##.",
            "....#....#.....#..###.#....###.",
            "..#.#..#...#..#.....###....#.#.",
            ".....###...#....#....#.#.##..##",
            "...#...#.........####........#.",
            ".......#..##.........#.........",
            ".#......##.....#.#####...##....",
            "....#.###...#.#....##..#......#",
            ".##..#....#.#....#..#.###.....#",
            "..#...#.#...#.##.....#.#....##.",
            "#.#.#.#.....##...#.#..##..#....",
            ".#............#.#.#..#...#...#.",
            "...##.#..#..####.#.###..##.....",
            ".##.....#.......#..##.#...##.#.",
            "#.#...#..#.##...##...####..#..#",
            "...##.......#.#.#.#.#.#...#..##",
            "...#.#.##..##..............###.",
            ".....#...#........#...#......#.",
            "..#..#..##....#..##.#.....#....",
            "#.....##........#.........##.#.",
            "###..#....#.##..##.............",
            ".#..#...#.#......#..#..##.....#",
            "...#.#.#............##........#",
            "..#.#....#..#....##....#...##.#",
            "...##...#...#..........##.#####",
            "....#..#.#.......##....#.#.###.",
            "##..#..#..#...###.#.....#......",
            "....###.#.#.#.##..##.#...#.....",
            ".....####..#.#..#.#......#.#.#.",
            "#.....#...#..#.#.........#..#..",
            ".##....#.#.####......##..#..##.",
            "......#.##.#.#..#..#....#.#....",
            ".#..#...#...#...#..#.....#.....",
            "..##.#..............#......#...",
            ".....###.##.......#.....#..#...",
            "..#.#..#..#.......#...##.##..#.",
            "##.###......#......#.#..#..##..",
            "..##.....#..#..#......#..#.....",
            "...##.......#.#..#.........#.#.",
            "......##.##.#.......#..#.#.....",
            "#......#........##..#.......#.#",
            "###....#...#...#.#...#..#..#...",
            "#..###....#....####..#...#.....",
            "....##..#.##.#....#..##...#.#..",
            "#.##..#....##..#...#..#.#.#..#.",
            "#.........#.....#...#.......#..",
            "...#.....#.#.....#........##...",
            "..#.##..#......#...#.....##.#..",
            "...###....#.....#...#..#.##..#."
    };
}
